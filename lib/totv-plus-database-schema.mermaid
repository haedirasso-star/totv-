erDiagram
    USERS ||--o{ WATCHLIST : has
    USERS ||--o{ WATCH_HISTORY : tracks
    USERS ||--o{ DOWNLOADS : owns
    USERS ||--o{ SUBSCRIPTIONS : subscribes
    
    MOVIES ||--o{ WATCH_HISTORY : watched
    MOVIES ||--o{ WATCHLIST : saved
    MOVIES }o--|| CATEGORIES : belongs
    MOVIES ||--o{ EPISODES : "has (for series)"
    
    USERS {
        string user_id PK
        string email
        string display_name
        string phone_number
        string profile_photo_url
        string subscription_tier
        timestamp created_at
        timestamp last_login
        string device_tokens
        string preferred_language
        string country_code
        boolean is_premium
        int watch_time_total
    }
    
    MOVIES {
        string movie_id PK
        string title
        string title_ar
        string title_en
        string description
        string poster_url
        string backdrop_url
        string trailer_url
        string[] genres
        string[] cast
        string director
        int year
        string rating
        float imdb_score
        int duration_minutes
        string[] streaming_urls
        string[] quality_options
        boolean is_series
        int total_episodes
        int total_seasons
        timestamp release_date
        timestamp added_date
        string content_type
        boolean is_trending
        boolean is_featured
        int view_count
        string[] subtitle_languages
    }
    
    EPISODES {
        string episode_id PK
        string series_id FK
        int season_number
        int episode_number
        string title
        string description
        string thumbnail_url
        string streaming_url
        int duration_minutes
        timestamp release_date
    }
    
    WATCHLIST {
        string watchlist_id PK
        string user_id FK
        string movie_id FK
        timestamp added_at
    }
    
    WATCH_HISTORY {
        string history_id PK
        string user_id FK
        string movie_id FK
        string episode_id FK
        int watch_duration_seconds
        int total_duration_seconds
        float progress_percentage
        timestamp last_watched
        boolean completed
    }
    
    DOWNLOADS {
        string download_id PK
        string user_id FK
        string movie_id FK
        string episode_id FK
        string local_path
        string quality
        int file_size_mb
        timestamp downloaded_at
        timestamp expires_at
        boolean is_encrypted
    }
    
    CATEGORIES {
        string category_id PK
        string name_en
        string name_ar
        string icon_url
        int sort_order
    }
    
    SUBSCRIPTIONS {
        string subscription_id PK
        string user_id FK
        string plan_type
        timestamp start_date
        timestamp end_date
        boolean is_active
        string payment_method
        float amount_paid
    }
    
    REMOTE_CONFIG {
        string config_id PK
        string key
        json value
        string description
        timestamp updated_at
        boolean is_active
    }
    
    ANALYTICS_EVENTS {
        string event_id PK
        string user_id FK
        string event_type
        json event_data
        string device_info
        timestamp created_at
    }

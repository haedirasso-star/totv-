graph LR
    subgraph "Presentation Layer"
        P1[Screens<br/>HomePage, PlayerScreen,<br/>ProfileScreen]
        P2[Widgets<br/>CustomCards, Carousels,<br/>VideoControls]
        P3[Bloc/Cubit<br/>State Management<br/>HomeBloc, PlayerBloc]
    end
    
    subgraph "Domain Layer - Business Logic"
        D1[Use Cases<br/>GetTrendingMovies<br/>PlayVideo<br/>SaveWatchlist]
        D2[Entities<br/>Movie, Series,<br/>User, Video]
        D3[Repository Interfaces<br/>IContentRepository<br/>IAuthRepository]
    end
    
    subgraph "Data Layer"
        DA1[Repository Implementations<br/>ContentRepositoryImpl<br/>AuthRepositoryImpl]
        DA2[Data Sources<br/>RemoteDataSource<br/>LocalDataSource]
        DA3[Models<br/>MovieModel<br/>SeriesModel<br/>DTO Objects]
    end
    
    subgraph "Core Layer"
        C1[Network<br/>Dio Client<br/>SSL Pinning<br/>Interceptors]
        C2[Local Storage<br/>Hive/Isar DB<br/>Secure Storage]
        C3[Utils<br/>Encryption<br/>Validators<br/>Constants]
    end
    
    subgraph "External Services"
        E1[Firebase Remote Config]
        E2[Firebase Firestore]
        E3[Firebase Auth]
        E4[ExoPlayer SDK]
        E5[GeoIP API]
    end
    
    P1 --> P2
    P2 --> P3
    P3 --> D1
    D1 --> D2
    D1 --> D3
    D3 --> DA1
    DA1 --> DA2
    DA2 --> DA3
    
    DA2 --> C1
    DA2 --> C2
    C1 --> C3
    C2 --> C3
    
    C1 --> E1
    C1 --> E2
    C1 --> E3
    P2 --> E4
    C1 --> E5
    
    style P1 fill:#FF6B00,stroke:#FF4500,stroke-width:2px,color:#fff
    style P2 fill:#FF6B00,stroke:#FF4500,stroke-width:2px,color:#fff
    style P3 fill:#FF6B00,stroke:#FF4500,stroke-width:2px,color:#fff
    
    style D1 fill:#32CD32,stroke:#228B22,stroke-width:2px,color:#fff
    style D2 fill:#32CD32,stroke:#228B22,stroke-width:2px,color:#fff
    style D3 fill:#32CD32,stroke:#228B22,stroke-width:2px,color:#fff
    
    style DA1 fill:#4169E1,stroke:#1E90FF,stroke-width:2px,color:#fff
    style DA2 fill:#4169E1,stroke:#1E90FF,stroke-width:2px,color:#fff
    style DA3 fill:#4169E1,stroke:#1E90FF,stroke-width:2px,color:#fff
    
    style C1 fill:#9370DB,stroke:#8A2BE2,stroke-width:2px,color:#fff
    style C2 fill:#9370DB,stroke:#8A2BE2,stroke-width:2px,color:#fff
    style C3 fill:#9370DB,stroke:#8A2BE2,stroke-width:2px,color:#fff
    
    style E1 fill:#FFD700,stroke:#FFA500,stroke-width:2px,color:#000
    style E2 fill:#FFD700,stroke:#FFA500,stroke-width:2px,color:#000
    style E3 fill:#FFD700,stroke:#FFA500,stroke-width:2px,color:#000
    style E4 fill:#FFD700,stroke:#FFA500,stroke-width:2px,color:#000
    style E5 fill:#FFD700,stroke:#FFA500,stroke-width:2px,color:#000

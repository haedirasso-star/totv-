# ğŸ iOS Setup Guide for TOTV+

## âš ï¸ Important: iOS Project Generation

The iOS project needs to be generated by Flutter. Follow these steps:

## ğŸ“‹ Step-by-Step Setup

### Step 1: Generate iOS Project

```bash
# Navigate to project root
cd totv_plus_complete

# Create iOS project automatically
flutter create --org com.totv --platforms=ios .
```

This command will:
- âœ… Create `ios/Runner.xcodeproj`
- âœ… Create `ios/Runner.xcworkspace`
- âœ… Setup proper iOS structure
- âœ… Generate required files

### Step 2: Verify Files

After running `flutter create`, verify these files exist:

```
ios/
â”œâ”€â”€ Runner.xcodeproj/
â”‚   â””â”€â”€ project.pbxproj
â”œâ”€â”€ Runner.xcworkspace/
â”œâ”€â”€ Runner/
â”‚   â”œâ”€â”€ Info.plist âœ… (already provided)
â”‚   â”œâ”€â”€ AppDelegate.swift âœ… (already provided)
â”‚   â””â”€â”€ GoogleService-Info.plist (add yours)
â”œâ”€â”€ Podfile âœ… (already provided)
â””â”€â”€ .gitignore
```

### Step 3: Install CocoaPods

```bash
# Install CocoaPods if not installed
sudo gem install cocoapods

# Navigate to iOS folder
cd ios

# Install pods
pod install
```

### Step 4: Add Firebase Configuration

1. Download `GoogleService-Info.plist` from Firebase Console
2. Place in: `ios/Runner/GoogleService-Info.plist`

### Step 5: Configure Signing

**Option A: Xcode (Recommended)**
```bash
# Open workspace in Xcode
open ios/Runner.xcworkspace

# In Xcode:
1. Select Runner project
2. Select Runner target
3. Go to "Signing & Capabilities"
4. Select your Team
5. Xcode will auto-generate provisioning profile
```

**Option B: Manual**
```bash
# Edit ios/Runner.xcodeproj/project.pbxproj
# Add your Team ID and provisioning profile
```

### Step 6: Build & Run

```bash
# From project root
flutter run -d ios

# Or build IPA
flutter build ios --release
```

## ğŸ”§ Troubleshooting

### Error: "No such module 'Firebase'"

**Solution:**
```bash
cd ios
pod install --repo-update
cd ..
flutter clean
flutter pub get
```

### Error: "Signing for Runner requires a development team"

**Solution:**
```bash
# Open Xcode
open ios/Runner.xcworkspace

# Sign in with your Apple ID
# Xcode â†’ Preferences â†’ Accounts â†’ Add Apple ID
# Then select team in project settings
```

### Error: "CocoaPods not installed"

**Solution:**
```bash
sudo gem install cocoapods
pod setup
```

## ğŸ“± Codemagic Setup

For Codemagic iOS builds, you need:

1. **Code Signing**:
   - Add provisioning profiles
   - Add certificates
   - Configure in Codemagic UI

2. **App Store Connect Integration**:
   - Generate API Key
   - Add to Codemagic

3. **Environment Variables**:
   ```
   GOOGLE_SERVICE_INFO_PLIST=<base64_encoded_plist>
   BUNDLE_ID=com.totv.plus
   ```

## âœ… Verification Checklist

- [ ] Run `flutter create --platforms=ios .`
- [ ] Verify `ios/Runner.xcodeproj` exists
- [ ] Run `pod install` in ios folder
- [ ] Add `GoogleService-Info.plist`
- [ ] Configure code signing in Xcode
- [ ] Test build: `flutter build ios`

## ğŸš€ Quick Commands

```bash
# Full iOS setup from scratch
flutter create --org com.totv --platforms=ios .
cd ios && pod install && cd ..
flutter pub get
flutter run -d ios

# Clean build
flutter clean
cd ios && pod deintegrate && pod install && cd ..
flutter pub get
flutter build ios
```

## ğŸ“ Need Help?

If you encounter issues:
1. Check Flutter doctor: `flutter doctor -v`
2. Update Flutter: `flutter upgrade`
3. Update CocoaPods: `sudo gem install cocoapods`
4. Contact support: +964 771 441 5816

---

**Note**: The iOS project structure is intentionally minimal to avoid conflicts. Flutter will generate the complete project when you run `flutter create`.
